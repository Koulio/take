package test.nz.org.take.compiler.issue22.generated;

import nz.org.take.rt.*;


/**
 * Class generated by the take compiler.
 * @version Fri Oct 31 23:28:10 NZDT 2008
 */
@SuppressWarnings("unchecked")
class KBFragement_children_10 {
    /**
     * Method generated for query children[in,out]
     * @param slot1 input parameter generated from slot 0
     * @return an iterator for instances of children
    */
    public static ResultSet<children> children_10(
        final test.nz.org.take.compiler.issue22.Parent slot1) {
        DerivationController _derivation = new DefaultDerivationController();
        ResultSet<children> _result = new ResultSet(KBFragement_children_10.children_10(
                    slot1, _derivation), _derivation);

        return _result;
    }

    /**
     * Method generated for query children[in,out]
     * @param source
     * @return an iterator
     * code generated using velocity template PropertyPredicateONE2MANY_10.vm
    */
    static ResourceIterator<children> children_10(
        final test.nz.org.take.compiler.issue22.Parent source,
        final DerivationController _derivation) {
        final java.util.Iterator<test.nz.org.take.compiler.issue22.Child> iterator =
            source.getChildren().iterator();
        _derivation.log("property children",
            DerivationController.BEAN_PROPERTY, source, DerivationController.NIL);

        ResourceIterator<children> result = new ResourceIterator<children>() {
                public boolean hasNext() {
                    return iterator.hasNext();
                }

                public void close() {
                    // nothing to do here
                }

                public children next() {
                    children next = new children();
                    next.slot1 = source;
                    next.slot2 = iterator.next();

                    return next;
                }

                public void remove() {
                    throw new UnsupportedOperationException(
                        "Remove is not supported here");
                }
            };

        return result;
    }
}
